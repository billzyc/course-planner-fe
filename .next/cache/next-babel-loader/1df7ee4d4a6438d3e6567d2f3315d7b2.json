{"ast":null,"code":"var _jsxFileName = \"/Users/bill.chen/Repo/studyplan-client/src/components/NewSemesterModal/NewSemesterModal.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport checkProps from '@jam3/react-check-extra-props';\nimport classnames from 'classnames';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { useDispatch } from 'react-redux';\nimport styles from './NewSemesterModal.module.scss';\n\nvar CloseSVG = function CloseSVG(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), __jsx(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\n\nCloseSVG.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  width: \"24\"\n};\nimport { TERM_KEYS } from '../../data/consts';\nimport { API_ROUTES, apiBaseUrl } from '../../data/consts';\nimport { addSemester } from '../../redux/modules/semester';\nimport copy from '../../data/copy.json';\nimport { closeModal } from '../../redux/modules/modal';\n\nfunction NewSemesterModal() {\n  const {\n    0: semesterYear,\n    1: setSemesterYear\n  } = useState('');\n  const {\n    0: semesterTerm,\n    1: setSemesterTerm\n  } = useState(TERM_KEYS.FALL);\n  const [cookies] = useCookies(['token']);\n  const dispatch = useDispatch();\n\n  const handleYearChange = e => {\n    setSemesterYear(e.currentTarget.value);\n  };\n\n  const handleNewSemesterSubmit = useCallback(() => {\n    axios({\n      method: 'post',\n      headers: {\n        authorization: cookies.token\n      },\n      data: {\n        semester: `${semesterYear}-${semesterTerm}`\n      },\n      url: API_ROUTES.SEMESTERS,\n      baseURL: apiBaseUrl\n    }).then(response => {\n      const data = response.data;\n      dispatch(addSemester(data));\n      dispatch(closeModal());\n    }).catch(function (error) {\n      console.log(error);\n      window.alert(copy.error.newSemester);\n    });\n  }, [cookies.token, dispatch, semesterTerm, semesterYear]);\n  return __jsx(\"section\", {\n    className: classnames(styles.newSemesterModal),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.modalContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.close,\n    onClick: () => {\n      dispatch(closeModal());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(CloseSVG, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  })), __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, copy.newSemesterModal.title), __jsx(\"input\", {\n    type: \"text\",\n    id: \"year\",\n    onChange: e => {\n      handleYearChange(e);\n    },\n    placeholder: copy.newSemesterModal.enterYear,\n    value: semesterYear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), __jsx(\"select\", {\n    id: \"semesters\",\n    onChange: e => setSemesterTerm(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, __jsx(\"option\", {\n    value: TERM_KEYS.FALL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, TERM_KEYS.FALL), __jsx(\"option\", {\n    value: TERM_KEYS.WINTER,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, TERM_KEYS.WINTER), __jsx(\"option\", {\n    value: TERM_KEYS.SPRING,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, TERM_KEYS.SPRING)), __jsx(\"button\", {\n    onClick: () => handleNewSemesterSubmit(),\n    className: `${styles.submit} ${semesterYear && semesterTerm ? false : styles.disabled}`,\n    disabled: semesterYear && semesterTerm ? false : true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, copy.newSemesterModal.submit)));\n}\n\nNewSemesterModal.propTypes = checkProps({});\nNewSemesterModal.defaultProps = {};\nexport default NewSemesterModal;","map":{"version":3,"sources":["/Users/bill.chen/Repo/studyplan-client/src/components/NewSemesterModal/NewSemesterModal.js"],"names":["React","useState","useCallback","PropTypes","checkProps","classnames","axios","useCookies","useDispatch","styles","CloseSVG","TERM_KEYS","API_ROUTES","apiBaseUrl","addSemester","copy","closeModal","NewSemesterModal","semesterYear","setSemesterYear","semesterTerm","setSemesterTerm","FALL","cookies","dispatch","handleYearChange","e","currentTarget","value","handleNewSemesterSubmit","method","headers","authorization","token","data","semester","url","SEMESTERS","baseURL","then","response","catch","error","console","log","window","alert","newSemester","newSemesterModal","modalContainer","close","title","enterYear","target","WINTER","SPRING","submit","disabled","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport checkProps from '@jam3/react-check-extra-props';\nimport classnames from 'classnames';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { useDispatch } from 'react-redux';\n\nimport styles from './NewSemesterModal.module.scss';\n\nimport { ReactComponent as CloseSVG } from '../../assets/svgs/close.svg';\nimport { TERM_KEYS } from '../../data/consts';\nimport { API_ROUTES, apiBaseUrl } from '../../data/consts';\nimport { addSemester } from '../../redux/modules/semester';\nimport copy from '../../data/copy.json';\nimport { closeModal } from '../../redux/modules/modal';\n\nfunction NewSemesterModal() {\n  const [semesterYear, setSemesterYear] = useState('');\n  const [semesterTerm, setSemesterTerm] = useState(TERM_KEYS.FALL);\n  const [cookies] = useCookies(['token']);\n\n  const dispatch = useDispatch();\n\n  const handleYearChange = (e) => {\n    setSemesterYear(e.currentTarget.value);\n  };\n\n  const handleNewSemesterSubmit = useCallback(() => {\n    axios({\n      method: 'post',\n      headers: { authorization: cookies.token },\n      data: {\n        semester: `${semesterYear}-${semesterTerm}`\n      },\n      url: API_ROUTES.SEMESTERS,\n      baseURL: apiBaseUrl\n    })\n      .then((response) => {\n        const data = response.data;\n        dispatch(addSemester(data));\n        dispatch(closeModal());\n      })\n      .catch(function (error) {\n        console.log(error);\n        window.alert(copy.error.newSemester);\n      });\n  }, [cookies.token, dispatch, semesterTerm, semesterYear]);\n\n  return (\n    <section className={classnames(styles.newSemesterModal)}>\n      <div className={styles.modalContainer}>\n        <div\n          className={styles.close}\n          onClick={() => {\n            dispatch(closeModal());\n          }}\n        >\n          <CloseSVG />\n        </div>\n        <h4>{copy.newSemesterModal.title}</h4>\n        <input\n          type=\"text\"\n          id=\"year\"\n          onChange={(e) => {\n            handleYearChange(e);\n          }}\n          placeholder={copy.newSemesterModal.enterYear}\n          value={semesterYear}\n        />\n        <select id=\"semesters\" onChange={(e) => setSemesterTerm(e.target.value)}>\n          <option value={TERM_KEYS.FALL}>{TERM_KEYS.FALL}</option>\n          <option value={TERM_KEYS.WINTER}>{TERM_KEYS.WINTER}</option>\n          <option value={TERM_KEYS.SPRING}>{TERM_KEYS.SPRING}</option>\n        </select>\n        <button\n          onClick={() => handleNewSemesterSubmit()}\n          className={`${styles.submit} ${semesterYear && semesterTerm ? false : styles.disabled}`}\n          disabled={semesterYear && semesterTerm ? false : true}\n        >\n          {copy.newSemesterModal.submit}\n        </button>\n      </div>\n    </section>\n  );\n}\n\nNewSemesterModal.propTypes = checkProps({});\n\nNewSemesterModal.defaultProps = {};\n\nexport default NewSemesterModal;\n"]},"metadata":{},"sourceType":"module"}