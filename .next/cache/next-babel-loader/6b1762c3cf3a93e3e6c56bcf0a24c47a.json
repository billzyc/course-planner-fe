{"ast":null,"code":"var _jsxFileName = \"/Users/bill.chen/Repo/studyplan-client/src/components/NewCourseModal/NewCourseModal.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport checkProps from '@jam3/react-check-extra-props';\nimport classnames from 'classnames';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { useDispatch } from 'react-redux';\nimport styles from './NewCourseModal.module.scss';\n\nvar CloseSVG = function CloseSVG(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), __jsx(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n};\n\nCloseSVG.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  width: \"24\"\n};\nimport { API_ROUTES, apiBaseUrl, UW_API_ROUTES, KEYS } from '../../data/consts';\nimport copy from '../../data/copy.json';\n\nconst NewCourseModal = ({\n  unassignedBoardRef,\n  fetchAllCourses,\n  closeCourseModal\n}) => {\n  const {\n    0: newCourseSubject,\n    1: setNewCourseSubject\n  } = useState('');\n  const {\n    0: newCourseNumber,\n    1: setNewCourseNumber\n  } = useState('');\n  const [cookies] = useCookies(['token']);\n  const dispatch = useDispatch();\n\n  const handleNewCourseSubject = e => {\n    setNewCourseSubject(e.currentTarget.value);\n  };\n\n  const handleNewCourseNumber = e => {\n    setNewCourseNumber(e.currentTarget.value);\n  };\n\n  const handleNewCourseSubmit = async () => {\n    const response = await axios.get(`${UW_API_ROUTES.BASEURL}${newCourseSubject}/${newCourseNumber}${UW_API_ROUTES.PREREQ}`, {\n      params: {\n        key: KEYS.UW\n      }\n    });\n    const preReqs = await {\n      preReqs: response.data.data.prerequisites_parsed\n    };\n    axios({\n      method: 'post',\n      data: {\n        course_subject: newCourseSubject,\n        course_number: newCourseNumber // reqs: JSON.stringify({ ...preReqs })\n\n      },\n      headers: {\n        authorization: cookies.token\n      },\n      url: API_ROUTES.COURSE_ITEMS,\n      baseURL: apiBaseUrl\n    }).then(function (response) {\n      fetchAllCourses();\n      unassignedBoardRef.current.updateCourses();\n      setNewCourseSubject('');\n      setNewCourseNumber('');\n      closeCourseModal();\n    }).catch(function (error) {\n      console.log(error);\n      window.alert(copy.error.newCourse);\n    });\n  };\n\n  return __jsx(\"section\", {\n    className: classnames(styles.newCourseModal),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.modalContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.close,\n    onClick: () => {\n      closeCourseModal();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(CloseSVG, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })), __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, copy.newCourseModal.title), __jsx(\"input\", {\n    type: \"text\",\n    id: \"courseSubject\",\n    onChange: e => {\n      handleNewCourseSubject(e);\n    },\n    placeholder: copy.newCourseModal.courseInput,\n    value: newCourseSubject,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    id: \"courseNumber\",\n    onChange: e => {\n      handleNewCourseNumber(e);\n    },\n    placeholder: copy.newCourseModal.numberInput,\n    value: newCourseNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), __jsx(\"button\", {\n    onClick: handleNewCourseSubmit,\n    className: styles.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, copy.newCourseModal.submit)));\n};\n\nNewCourseModal.propTypes = checkProps({});\nNewCourseModal.defaultProps = {};\nexport default NewCourseModal;","map":{"version":3,"sources":["/Users/bill.chen/Repo/studyplan-client/src/components/NewCourseModal/NewCourseModal.js"],"names":["React","useState","useCallback","PropTypes","checkProps","classnames","axios","useCookies","useDispatch","styles","CloseSVG","API_ROUTES","apiBaseUrl","UW_API_ROUTES","KEYS","copy","NewCourseModal","unassignedBoardRef","fetchAllCourses","closeCourseModal","newCourseSubject","setNewCourseSubject","newCourseNumber","setNewCourseNumber","cookies","dispatch","handleNewCourseSubject","e","currentTarget","value","handleNewCourseNumber","handleNewCourseSubmit","response","get","BASEURL","PREREQ","params","key","UW","preReqs","data","prerequisites_parsed","method","course_subject","course_number","headers","authorization","token","url","COURSE_ITEMS","baseURL","then","current","updateCourses","catch","error","console","log","window","alert","newCourse","newCourseModal","modalContainer","close","title","courseInput","numberInput","submit","propTypes","defaultProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAOC,MAAP,MAAmB,8BAAnB;;IAE2BC,Q,YAAAA,Q;;;;;;;;;AAAAA,Q;;;;;;AAC3B,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,aAAjC,EAAgDC,IAAhD,QAA4D,mBAA5D;AACA,OAAOC,IAAP,MAAiB,sBAAjB;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA,kBAAF;AAAsBC,EAAAA,eAAtB;AAAuCC,EAAAA;AAAvC,CAAD,KAA+D;AACpF,QAAM;AAAA,OAACC,gBAAD;AAAA,OAAmBC;AAAnB,MAA0CpB,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM;AAAA,OAACqB,eAAD;AAAA,OAAkBC;AAAlB,MAAwCtB,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACuB,OAAD,IAAYjB,UAAU,CAAC,CAAC,OAAD,CAAD,CAA5B;AAEA,QAAMkB,QAAQ,GAAGjB,WAAW,EAA5B;;AAEA,QAAMkB,sBAAsB,GAAGC,CAAC,IAAI;AAClCN,IAAAA,mBAAmB,CAACM,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAnB;AACD,GAFD;;AAIA,QAAMC,qBAAqB,GAAGH,CAAC,IAAI;AACjCJ,IAAAA,kBAAkB,CAACI,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAlB;AACD,GAFD;;AAIA,QAAME,qBAAqB,GAAG,YAAY;AACxC,UAAMC,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,GAAN,CACpB,GAAEpB,aAAa,CAACqB,OAAQ,GAAEd,gBAAiB,IAAGE,eAAgB,GAAET,aAAa,CAACsB,MAAO,EADjE,EAErB;AACEC,MAAAA,MAAM,EAAE;AACNC,QAAAA,GAAG,EAAEvB,IAAI,CAACwB;AADJ;AADV,KAFqB,CAAvB;AASA,UAAMC,OAAO,GAAG,MAAM;AAAEA,MAAAA,OAAO,EAAEP,QAAQ,CAACQ,IAAT,CAAcA,IAAd,CAAmBC;AAA9B,KAAtB;AAEAnC,IAAAA,KAAK,CAAC;AACJoC,MAAAA,MAAM,EAAE,MADJ;AAEJF,MAAAA,IAAI,EAAE;AACJG,QAAAA,cAAc,EAAEvB,gBADZ;AAEJwB,QAAAA,aAAa,EAAEtB,eAFX,CAGJ;;AAHI,OAFF;AAOJuB,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAEtB,OAAO,CAACuB;AAAzB,OAPL;AAQJC,MAAAA,GAAG,EAAErC,UAAU,CAACsC,YARZ;AASJC,MAAAA,OAAO,EAAEtC;AATL,KAAD,CAAL,CAWGuC,IAXH,CAWQ,UAASnB,QAAT,EAAmB;AACvBd,MAAAA,eAAe;AACfD,MAAAA,kBAAkB,CAACmC,OAAnB,CAA2BC,aAA3B;AACAhC,MAAAA,mBAAmB,CAAC,EAAD,CAAnB;AACAE,MAAAA,kBAAkB,CAAC,EAAD,CAAlB;AACAJ,MAAAA,gBAAgB;AACjB,KAjBH,EAkBGmC,KAlBH,CAkBS,UAASC,KAAT,EAAgB;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAG,MAAAA,MAAM,CAACC,KAAP,CAAa5C,IAAI,CAACwC,KAAL,CAAWK,SAAxB;AACD,KArBH;AAsBD,GAlCD;;AAoCA,SACE;AAAS,IAAA,SAAS,EAAEvD,UAAU,CAACI,MAAM,CAACoD,cAAR,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEpD,MAAM,CAACqD,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAErD,MAAM,CAACsD,KADpB;AAEE,IAAA,OAAO,EAAE,MAAM;AACb5C,MAAAA,gBAAgB;AACjB,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,IAAI,CAAC8C,cAAL,CAAoBG,KAAzB,CATF,EAUE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,eAFL;AAGE,IAAA,QAAQ,EAAErC,CAAC,IAAI;AACbD,MAAAA,sBAAsB,CAACC,CAAD,CAAtB;AACD,KALH;AAME,IAAA,WAAW,EAAEZ,IAAI,CAAC8C,cAAL,CAAoBI,WANnC;AAOE,IAAA,KAAK,EAAE7C,gBAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAmBE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,cAFL;AAGE,IAAA,QAAQ,EAAEO,CAAC,IAAI;AACbG,MAAAA,qBAAqB,CAACH,CAAD,CAArB;AACD,KALH;AAME,IAAA,WAAW,EAAEZ,IAAI,CAAC8C,cAAL,CAAoBK,WANnC;AAOE,IAAA,KAAK,EAAE5C,eAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,EA4BE;AAAQ,IAAA,OAAO,EAAES,qBAAjB;AAAwC,IAAA,SAAS,EAAEtB,MAAM,CAAC0D,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpD,IAAI,CAAC8C,cAAL,CAAoBM,MADvB,CA5BF,CADF,CADF;AAoCD,CAvFD;;AAyFAnD,cAAc,CAACoD,SAAf,GAA2BhE,UAAU,CAAC,EAAD,CAArC;AAEAY,cAAc,CAACqD,YAAf,GAA8B,EAA9B;AAEA,eAAerD,cAAf","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport checkProps from '@jam3/react-check-extra-props';\nimport classnames from 'classnames';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { useDispatch } from 'react-redux';\n\nimport styles from './NewCourseModal.module.scss';\n\nimport { ReactComponent as CloseSVG } from '../../assets/svgs/close.svg';\nimport { API_ROUTES, apiBaseUrl, UW_API_ROUTES, KEYS } from '../../data/consts';\nimport copy from '../../data/copy.json';\n\nconst NewCourseModal = ({ unassignedBoardRef, fetchAllCourses, closeCourseModal }) => {\n  const [newCourseSubject, setNewCourseSubject] = useState('');\n  const [newCourseNumber, setNewCourseNumber] = useState('');\n  const [cookies] = useCookies(['token']);\n\n  const dispatch = useDispatch();\n\n  const handleNewCourseSubject = e => {\n    setNewCourseSubject(e.currentTarget.value);\n  };\n\n  const handleNewCourseNumber = e => {\n    setNewCourseNumber(e.currentTarget.value);\n  };\n\n  const handleNewCourseSubmit = async () => {\n    const response = await axios.get(\n      `${UW_API_ROUTES.BASEURL}${newCourseSubject}/${newCourseNumber}${UW_API_ROUTES.PREREQ}`,\n      {\n        params: {\n          key: KEYS.UW\n        }\n      }\n    );\n\n    const preReqs = await { preReqs: response.data.data.prerequisites_parsed };\n\n    axios({\n      method: 'post',\n      data: {\n        course_subject: newCourseSubject,\n        course_number: newCourseNumber\n        // reqs: JSON.stringify({ ...preReqs })\n      },\n      headers: { authorization: cookies.token },\n      url: API_ROUTES.COURSE_ITEMS,\n      baseURL: apiBaseUrl\n    })\n      .then(function(response) {\n        fetchAllCourses();\n        unassignedBoardRef.current.updateCourses();\n        setNewCourseSubject('');\n        setNewCourseNumber('');\n        closeCourseModal();\n      })\n      .catch(function(error) {\n        console.log(error);\n        window.alert(copy.error.newCourse);\n      });\n  };\n\n  return (\n    <section className={classnames(styles.newCourseModal)}>\n      <div className={styles.modalContainer}>\n        <div\n          className={styles.close}\n          onClick={() => {\n            closeCourseModal();\n          }}\n        >\n          <CloseSVG />\n        </div>\n        <h4>{copy.newCourseModal.title}</h4>\n        <input\n          type=\"text\"\n          id=\"courseSubject\"\n          onChange={e => {\n            handleNewCourseSubject(e);\n          }}\n          placeholder={copy.newCourseModal.courseInput}\n          value={newCourseSubject}\n        />\n        <input\n          type=\"text\"\n          id=\"courseNumber\"\n          onChange={e => {\n            handleNewCourseNumber(e);\n          }}\n          placeholder={copy.newCourseModal.numberInput}\n          value={newCourseNumber}\n        />\n        <button onClick={handleNewCourseSubmit} className={styles.submit}>\n          {copy.newCourseModal.submit}\n        </button>\n      </div>\n    </section>\n  );\n};\n\nNewCourseModal.propTypes = checkProps({});\n\nNewCourseModal.defaultProps = {};\n\nexport default NewCourseModal;\n"]},"metadata":{},"sourceType":"module"}